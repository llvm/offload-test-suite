@LIT_SITE_CFG_IN_HEADER@

import sys

config.offloadtest_obj_root = path(r"@OFFLOADTEST_BINARY_DIR@")
config.offloadtest_src_root = path(r"@OFFLOADTEST_SOURCE_DIR@")
config.llvm_tools_dir = lit_config.substitute(path(r"@LLVM_TOOLS_DIR@"))
config.offloadtest_dxc = '"' + path(r"@DXC_EXECUTABLE@") + '"'
config.offloadtest_supports_spirv = @SUPPORTS_SPIRV@
config.offloadtest_test_clang = @FORCE_CLANG@
config.offloadtest_test_warp = @FORCE_WARP@
if config.offloadtest_test_warp:
  config.warp_arch = r"@WARP_ARCHITECTURE@"
config.offloadtest_dxc_dir = r"@DXC_DIR@"
config.goldenimage_dir = r"@GOLDENIMAGE_DIR@"

config.offloadtest_suite = "@suite@"
config.offloadtest_enable_d3d12 = @TEST_d3d12@
config.offloadtest_enable_vulkan = @TEST_vk@
config.offloadtest_enable_metal = @TEST_mtl@
config.offloadtest_os = "@CMAKE_SYSTEM_NAME@"
config.offloadtest_enable_debug = @OFFLOADTEST_ENABLE_DEBUG@
config.offloadtest_enable_validation = @OFFLOADTEST_ENABLE_VALIDATION@

import lit.llvm
lit.llvm.initialize(lit_config, config)

# Let the main config do the real work.
lit_config.load_config(
    config, os.path.join(config.offloadtest_src_root, "test/lit.cfg.py"))
